@using WineCellar.Blazor.Shared.Components.Inputs
@using WineCellar.Blazor.Shared.Components.NavMenu
@inherits LayoutComponentBase

<MudThemeProvider @ref="@_mudThemeProvider" @bind-IsDarkMode="@_isDarkMode" Theme="_theme"/>
<MudDialogProvider MaxWidth="MaxWidth.Large" CloseButton="true"/>
<MudSnackbarProvider/>

<MudLayout>
    <AuthorizeView>
        <Authorized>
            <MudAppBar Elevation="2">
                <MudText Typo="Typo.h5" Class="mt-1" Color="Color.Primary">Kave</MudText>
                <MudSpacer/>
                <MudItem md="4">
                    <WineSearchInput Dense="true" Margin="Margin.Dense"></WineSearchInput>
                </MudItem>
            </MudAppBar>
            <MudDrawer @bind-Open="_drawerOpen" ClipMode="_clipMode" Elevation="1">
                <NavMenu/>
            </MudDrawer>
        </Authorized>
    </AuthorizeView>
    <MudMainContent>
        <MudContainer MaxWidth="MaxWidth.Large" Class="pt-10 px-10">
            <AuthorizeView>
                <Authorized>
                    @Body
                </Authorized>
                <NotAuthorized>
                    <AppLanding />
                </NotAuthorized>
            </AuthorizeView>
        </MudContainer>
    </MudMainContent>
</MudLayout>