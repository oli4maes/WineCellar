@page "/"

<PageTitle>Kave - Dashboard</PageTitle>

<MudText Typo="Typo.h3" Color="Color.Primary">Dashboard</MudText>
<MudDivider/>

@if (_dashboardResponse is not null)
{
    <MudGrid Class="pt-4">
        <MudItem xs="6" md="3">
            <DashboardCard Title="Total" Statistic="@_dashboardResponse.AmountOfBottlesInCellar.ToString()"/>
        </MudItem>
        <MudItem xs="6" md="3">
            <DashboardCard Title="Favourite type" Statistic="@_dashboardResponse.FavouriteWineType.ToString()"/>
        </MudItem>
        <MudItem xs="6" md="3">
            <DashboardCard Title="Favourite wine" Statistic="@_dashboardResponse.FavouriteWine"/>
        </MudItem>
        <MudItem xs="6" md="3">
            <DashboardCard Title="Favourite producer" Statistic="@_dashboardResponse.FavouriteWinery"/>
        </MudItem>
    </MudGrid>

    <MudGrid>
        @foreach (var wineType in _dashboardResponse.AmountOfBottlesPerWineType)
        {
            <MudItem xs="3">
                <MudText>@wineType.Key</MudText>
                <MudText>@wineType.Value</MudText>
            </MudItem>
        }

    </MudGrid>

    <WineTypeDonut AmountOfBottlesInCellar="@_dashboardResponse.AmountOfBottlesInCellar"
                   AmountOfBottlesPerWineTypeData="@_dashboardResponse.AmountOfBottlesPerWineTypeData"
                   AmountOfBottlesPerWineTypeLabels="@_dashboardResponse.AmountOfBottlesPerWineTypeLabels"/>
}